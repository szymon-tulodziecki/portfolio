import{r as o,j as e}from"./index-Cl3jchf6.js";import{H as L}from"./Header-9rg0bRJf.js";const T=()=>{const[y,a]=o.useState(!1);return o.useEffect(()=>{const c=()=>{const p=navigator.userAgent;a(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(p))};return c(),window.addEventListener("resize",c),()=>window.removeEventListener("resize",c)},[]),y},G=()=>{const y=T(),a=15,c=[{x:7,y:7}],p={x:5,y:5},[b,N]=o.useState(c),[m,k]=o.useState(p),[i,u]=o.useState({x:0,y:1}),[g,h]=o.useState(!1),[S,A]=o.useState(0),[d,x]=o.useState(!1),[f,v]=o.useState(0),[n,w]=o.useState(!1),j=o.useCallback(()=>({x:Math.floor(Math.random()*a),y:Math.floor(Math.random()*a)}),[]),E=o.useCallback(()=>{!d||g||n||N(t=>{const s=[...t],r={...s[0]};return r.x+=i.x,r.y+=i.y,r.x<0||r.x>=a||r.y<0||r.y>=a||s.some(l=>l.x===r.x&&l.y===r.y)?(h(!0),x(!1),t):(s.unshift(r),r.x===m.x&&r.y===m.y?(A(l=>l+10),k(j())):s.pop(),s)})},[i,m,g,d,n,j]);if(o.useEffect(()=>{let t;return n&&f>0&&(t=setInterval(()=>{v(s=>s<=1?(w(!1),x(!0),0):s-1)},1e3)),()=>{t&&clearInterval(t)}},[n,f]),o.useEffect(()=>{const t=s=>{if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Space"].includes(s.key)&&s.preventDefault(),!(!d||n))switch(s.key){case"ArrowUp":i.y===0&&u({x:0,y:-1});break;case"ArrowDown":i.y===0&&u({x:0,y:1});break;case"ArrowLeft":i.x===0&&u({x:-1,y:0});break;case"ArrowRight":i.x===0&&u({x:1,y:0});break;case"Escape":n||x(!1);break}};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)},[i,d,n]),o.useEffect(()=>{if(d||n){const t=window.scrollY;document.body.style.overflow="hidden",document.body.style.position="fixed",document.body.style.top=`-${t}px`,document.body.style.width="100%"}else{const t=document.body.style.top;document.body.style.overflow="",document.body.style.position="",document.body.style.top="",document.body.style.width="",t&&window.scrollTo(0,parseInt(t||"0")*-1)}return()=>{document.body.style.overflow="",document.body.style.position="",document.body.style.top="",document.body.style.width=""}},[d,n]),o.useEffect(()=>{const t=setInterval(E,180);return()=>clearInterval(t)},[E]),y)return e.jsx("div",{className:"w-full max-w-lg mx-auto p-6 bg-black/90 rounded-lg border border-green-400/30 backdrop-blur-sm",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("h2",{className:"font-mono text-xl font-bold bg-gradient-to-r from-green-400 to-emerald-400 bg-clip-text text-transparent",children:"MATRIX SNAKE"}),e.jsxs("div",{className:"py-8",children:[e.jsx("div",{className:"text-6xl mb-4",children:"üì±"}),e.jsx("div",{className:"font-mono text-green-400 text-lg mb-2",children:"Gra niedostƒôpna na urzƒÖdzeniach mobilnych"}),e.jsx("div",{className:"font-mono text-green-400/70 text-sm",children:"U≈ºyj komputera z klawiaturƒÖ aby zagraƒá"})]}),e.jsx("div",{className:"border-t border-green-400/20 pt-4",children:e.jsxs("div",{className:"font-mono text-xs text-green-400/50",children:["üñ•Ô∏è Dostƒôpne na: Desktop ‚Ä¢ Laptop",e.jsx("br",{}),"‚å®Ô∏è Wymagane: Klawiatura ze strza≈Çkami"]})})]})});const z=()=>{N(c),k(j()),u({x:0,y:1}),h(!1),A(0),x(!1),v(5),w(!0)},I=()=>{x(!1),w(!1),v(0)};return e.jsxs("div",{className:"w-full max-w-lg mx-auto p-4 bg-black/90 rounded-lg border border-green-400/30 backdrop-blur-sm",children:[e.jsxs("div",{className:"flex justify-between items-center mb-3",children:[e.jsx("h2",{className:"font-mono text-xl font-bold bg-gradient-to-r from-green-400 to-emerald-400 bg-clip-text text-transparent",children:"MATRIX SNAKE"}),e.jsxs("div",{className:"font-mono text-green-400 text-lg",children:["SCORE: ",e.jsx("span",{className:"text-white",children:S})]})]}),e.jsxs("div",{className:"relative bg-black border-2 border-green-400/50 rounded-lg overflow-hidden mx-auto",style:{maxWidth:"400px"},children:[e.jsx("div",{className:"grid gap-0",style:{gridTemplateColumns:`repeat(${a}, 1fr)`,aspectRatio:"1",width:"100%"},children:Array.from({length:a*a}).map((t,s)=>{const r=s%a,l=Math.floor(s/a),R=b.some(M=>M.x===r&&M.y===l),C=b[0]?.x===r&&b[0]?.y===l,D=m.x===r&&m.y===l;return e.jsx("div",{className:`aspect-square border border-green-400/10 ${D?"bg-red-500 animate-pulse shadow-lg shadow-red-500/50":C?"bg-green-300 shadow-lg shadow-green-300/50":R?"bg-green-500 shadow-md shadow-green-500/30":"bg-black/50"}`},s)})}),n&&e.jsx("div",{className:"absolute inset-0 bg-black/90 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-mono text-6xl font-bold text-green-400 mb-4 animate-pulse",children:f}),e.jsx("div",{className:"font-mono text-lg text-green-400/70",children:"Przygotuj siƒô..."})]})}),g&&e.jsx("div",{className:"absolute inset-0 bg-black/80 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-mono text-2xl font-bold text-red-400 mb-2 animate-pulse",children:"GAME OVER"}),e.jsxs("div",{className:"font-mono text-lg text-green-400 mb-2",children:["Final Score: ",S]})]})})]}),e.jsx("div",{className:"mt-3 text-center",children:!d&&!n?e.jsxs("button",{onClick:z,className:"group relative px-6 py-2 font-mono font-bold text-base",children:[e.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-green-400 via-emerald-400 to-green-400 rounded-lg blur opacity-30 group-hover:opacity-60 transition duration-300 animate-glow-pulse"}),e.jsx("div",{className:"relative bg-black/90 rounded-lg px-6 py-2 border border-green-400/30 text-green-400 group-hover:text-white transition-colors",children:g?"RESTART":"START GAME"})]}):n?e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"font-mono text-green-400 text-sm",children:["Gra rozpocznie siƒô za ",f," sekund..."]}),e.jsxs("button",{onClick:I,className:"group relative px-4 py-1 font-mono text-sm",children:[e.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-red-400 to-red-600 rounded blur opacity-20 group-hover:opacity-40 transition duration-300"}),e.jsx("div",{className:"relative bg-black/90 rounded px-4 py-1 border border-red-400/30 text-red-400 group-hover:text-white transition-colors",children:"ANULUJ"})]})]}):e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"font-mono text-green-400 text-sm",children:"Strza≈Çki: sterowanie ‚Ä¢ ESC: pauza"}),e.jsxs("button",{onClick:I,className:"group relative px-4 py-1 font-mono text-sm",children:[e.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-red-400 to-red-600 rounded blur opacity-20 group-hover:opacity-40 transition duration-300"}),e.jsx("div",{className:"relative bg-black/90 rounded px-4 py-1 border border-red-400/30 text-red-400 group-hover:text-white transition-colors",children:"PAUSE"})]})]})}),e.jsx("div",{className:"mt-3 text-center font-mono text-xs text-green-400/70",children:e.jsx("div",{children:"üêç Zbieraj czerwone kostki ‚Ä¢ Unikaj ≈õcian i ogona"})})]})};function U(){return e.jsxs("div",{className:"min-h-screen bg-black",children:[e.jsx(L,{}),e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx(G,{})})]})}export{U as default};
