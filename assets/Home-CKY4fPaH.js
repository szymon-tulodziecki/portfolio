import{r as o,j as e}from"./index-SSo9lVAr.js";import{u as O,H as P}from"./Header-en4nU9GU.js";const R=[{tw:"bg-lime-400",glow:"#a3e635"},{tw:"bg-cyan-400",glow:"#22d3ee"},{tw:"bg-fuchsia-400",glow:"#e879f9"},{tw:"bg-yellow-300",glow:"#fde047"}],L=()=>Math.floor(Math.random()*R.length);function $(){const{t}=O(),[x,r]=o.useState([]),[u,j]=o.useState(!1),[N,S]=o.useState(null),[p,k]=o.useState(null),[c,b]=o.useState(!0),[y,w]=o.useState(0),[f,I]=o.useState(!1),d=o.useRef(0),g=o.useCallback(s=>{j(!0),b(!1),d.current=0;let l=0;const m=()=>{S(s[l]),setTimeout(()=>{S(null),l+=1,l<s.length?setTimeout(m,250):(j(!1),b(!0))},500)};m()},[]),v=()=>{const s=[L()];r(s),w(0),I(!1),g(s)},A=s=>{if(c){if(k(s),setTimeout(()=>k(null),200),s!==x[d.current]){I(!0),b(!1);return}if(d.current+=1,d.current===x.length){const l=[...x,L()];w(m=>m+1),r(l),setTimeout(()=>g(l),1500)}}};return e.jsxs("div",{className:"w-full max-w-lg mx-auto p-6 bg-black/90 rounded-lg border border-green-400/30 backdrop-blur-sm",children:[e.jsxs("div",{className:"text-center mb-4",children:[e.jsx("h2",{className:"font-mono text-2xl font-bold bg-gradient-to-r from-green-400 to-emerald-400 bg-clip-text text-transparent mb-2",children:t("mobileSimon.title")}),e.jsx("p",{className:"font-mono text-green-400/80 text-sm",children:t("mobileSimon.description")})]}),e.jsx("div",{className:"flex justify-center mb-6",children:e.jsxs("div",{className:"bg-black/80 rounded-lg px-6 py-3 border border-green-400/30 text-center",children:[e.jsx("div",{className:"font-mono text-2xl font-bold text-green-400",children:y}),e.jsx("div",{className:"font-mono text-sm text-green-400/60",children:t("mobileSimon.score")})]})}),e.jsx("div",{className:"grid grid-cols-2 gap-5 mb-6 justify-items-center",children:R.map((s,l)=>{const m=N===l||p===l;return e.jsx("button",{onClick:()=>A(l),disabled:!c,className:`w-24 h-24 rounded-xl border-4 border-black transition-all duration-150
                          ${s.tw} ${m?"scale-110 ring-4 ring-white":"hover:scale-105"}`,style:{boxShadow:m?`0 0 32px 8px ${s.glow}`:"none",opacity:!c&&!u?.5:1}},l)})}),!x.length&&!f&&e.jsx("div",{className:"text-center",children:e.jsxs("button",{onClick:v,className:"group relative px-8 py-3 font-mono font-bold text-lg",children:[e.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-green-400 via-emerald-400 to-green-400 rounded-lg blur opacity-30 group-hover:opacity-60 transition duration-300 animate-glow-pulse"}),e.jsx("div",{className:"relative bg-black/90 rounded-lg px-8 py-3 border border-green-400/30 text-green-400 group-hover:text-white transition-colors",children:t("mobileSimon.startButton")})]})}),f&&e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-mono text-2xl text-red-400 font-bold mb-2 animate-pulse",children:t("mobileSimon.error")}),e.jsx("div",{className:"font-mono text-green-400/70 mb-4",children:t("mobileSimon.yourScore",{score:y})}),e.jsxs("button",{onClick:v,className:"group relative px-8 py-3 font-mono font-bold text-lg",children:[e.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-green-400 via-emerald-400 to-green-400 rounded-lg blur opacity-30 group-hover:opacity-60 transition duration-300 animate-glow-pulse"}),e.jsx("div",{className:"relative bg-black/90 rounded-lg px-8 py-3 border border-green-400/30 text-green-400 group-hover:text-white transition-colors",children:t("mobileSimon.playAgainButton")})]})]}),u&&!f&&e.jsx("div",{className:"text-center font-mono text-green-400/80 text-lg animate-pulse",children:t("mobileSimon.rememberSequence")}),c&&!f&&x.length>0&&!u&&e.jsx("div",{className:"text-center font-mono text-green-400/80 text-lg",children:t("mobileSimon.yourTurn")}),!c&&!u&&!f&&x.length>0&&e.jsx("div",{className:"text-center font-mono text-green-400/80 text-lg animate-pulse",children:t("mobileSimon.goodJobNextLevel")})]})}const q=()=>{const[t,x]=o.useState(!1);return o.useEffect(()=>{const r=()=>{const u=navigator.userAgent;x(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(u))};return r(),window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[]),t},G=()=>{const{t}=O(),x=q(),r=15,u=[{x:7,y:7}],j={x:5,y:5},[N,S]=o.useState(u),[p,k]=o.useState(j),[c,b]=o.useState({x:0,y:1}),[y,w]=o.useState(!1),[f,I]=o.useState(0),[d,g]=o.useState(!1),[v,A]=o.useState(0),[s,l]=o.useState(!1),m=o.useCallback(()=>({x:Math.floor(Math.random()*r),y:Math.floor(Math.random()*r)}),[]),M=o.useCallback(()=>{!d||y||s||S(n=>{const a=[...n],i={...a[0]};return i.x+=c.x,i.y+=c.y,i.x<0||i.x>=r||i.y<0||i.y>=r||a.some(h=>h.x===i.x&&h.y===i.y)?(w(!0),g(!1),n):(a.unshift(i),i.x===p.x&&i.y===p.y?(I(h=>h+10),k(m())):a.pop(),a)})},[c,p,y,d,s,m]);if(o.useEffect(()=>{let n;return s&&v>0&&(n=setInterval(()=>{A(a=>a<=1?(l(!1),g(!0),0):a-1)},1e3)),()=>{n&&clearInterval(n)}},[s,v]),o.useEffect(()=>{const n=a=>{if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Space"].includes(a.key)&&a.preventDefault(),!(!d||s))switch(a.key){case"ArrowUp":c.y===0&&b({x:0,y:-1});break;case"ArrowDown":c.y===0&&b({x:0,y:1});break;case"ArrowLeft":c.x===0&&b({x:-1,y:0});break;case"ArrowRight":c.x===0&&b({x:1,y:0});break;case"Escape":s||g(!1);break}};return window.addEventListener("keydown",n),()=>window.removeEventListener("keydown",n)},[c,d,s]),o.useEffect(()=>{if(d||s){const n=window.scrollY;document.body.style.overflow="hidden",document.body.style.position="fixed",document.body.style.top=`-${n}px`,document.body.style.width="100%"}else{const n=document.body.style.top;document.body.style.overflow="",document.body.style.position="",document.body.style.top="",document.body.style.width="",n&&window.scrollTo(0,parseInt(n||"0")*-1)}return()=>{document.body.style.overflow="",document.body.style.position="",document.body.style.top="",document.body.style.width=""}},[d,s]),o.useEffect(()=>{const n=setInterval(M,180);return()=>clearInterval(n)},[M]),x)return e.jsx($,{});const T=()=>{S(u),k(m()),b({x:0,y:1}),w(!1),I(0),g(!1),A(5),l(!0)},E=()=>{g(!1),l(!1),A(0)};return e.jsxs("div",{className:"w-full max-w-lg mx-auto p-4 bg-black/90 rounded-lg border border-green-400/30 backdrop-blur-sm",children:[e.jsxs("div",{className:"flex justify-between items-center mb-3",children:[e.jsx("h2",{className:"font-mono text-xl font-bold bg-gradient-to-r from-green-400 to-emerald-400 bg-clip-text text-transparent",children:t("matrixSnake.title")}),e.jsxs("div",{className:"font-mono text-green-400 text-lg",children:[t("matrixSnake.score"),": ",e.jsx("span",{className:"text-white",children:f})]})]}),e.jsxs("div",{className:"relative bg-black border-2 border-green-400/50 rounded-lg overflow-hidden mx-auto",style:{maxWidth:"400px"},children:[e.jsx("div",{className:"grid gap-0",style:{gridTemplateColumns:`repeat(${r}, 1fr)`,aspectRatio:"1",width:"100%"},children:Array.from({length:r*r}).map((n,a)=>{const i=a%r,h=Math.floor(a/r),D=N.some(C=>C.x===i&&C.y===h),B=N[0]?.x===i&&N[0]?.y===h,F=p.x===i&&p.y===h;return e.jsx("div",{className:`aspect-square border border-green-400/10 ${F?"bg-red-500 animate-pulse shadow-lg shadow-red-500/50":B?"bg-green-300 shadow-lg shadow-green-300/50":D?"bg-green-500 shadow-md shadow-green-500/30":"bg-black/50"}`},a)})}),s&&e.jsx("div",{className:"absolute inset-0 bg-black/90 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-mono text-6xl font-bold text-green-400 mb-4 animate-pulse",children:v}),e.jsx("div",{className:"font-mono text-lg text-green-400/70",children:t("matrixSnake.prepareMessage")})]})}),y&&e.jsx("div",{className:"absolute inset-0 bg-black/80 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-mono text-2xl font-bold text-red-400 mb-2 animate-pulse",children:t("matrixSnake.gameOver")}),e.jsxs("div",{className:"font-mono text-lg text-green-400 mb-2",children:[t("matrixSnake.finalScore"),": ",f]})]})})]}),e.jsx("div",{className:"mt-3 text-center",children:!d&&!s?e.jsxs("button",{onClick:T,className:"group relative px-6 py-2 font-mono font-bold text-base",children:[e.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-green-400 via-emerald-400 to-green-400 rounded-lg blur opacity-30 group-hover:opacity-60 transition duration-300 animate-glow-pulse"}),e.jsx("div",{className:"relative bg-black/90 rounded-lg px-6 py-2 border border-green-400/30 text-green-400 group-hover:text-white transition-colors",children:t(y?"matrixSnake.restartButton":"matrixSnake.startButton")})]}):s?e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"font-mono text-green-400 text-sm",children:t("matrixSnake.startingIn",{countdown:v})}),e.jsxs("button",{onClick:E,className:"group relative px-4 py-1 font-mono text-sm",children:[e.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-red-400 to-red-600 rounded blur opacity-20 group-hover:opacity-40 transition duration-300"}),e.jsx("div",{className:"relative bg-black/90 rounded px-4 py-1 border border-red-400/30 text-red-400 group-hover:text-white transition-colors",children:t("matrixSnake.cancelButton")})]})]}):e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"font-mono text-green-400 text-sm",children:t("matrixSnake.controlsInfo")}),e.jsxs("button",{onClick:E,className:"group relative px-4 py-1 font-mono text-sm",children:[e.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-red-400 to-red-600 rounded blur opacity-20 group-hover:opacity-40 transition duration-300"}),e.jsx("div",{className:"relative bg-black/90 rounded px-4 py-1 border border-red-400/30 text-red-400 group-hover:text-white transition-colors",children:t("matrixSnake.pauseButton")})]})]})}),e.jsx("div",{className:"mt-3 text-center font-mono text-xs text-green-400/70",children:e.jsx("div",{children:t("matrixSnake.instructions")})})]})};function U(){return e.jsxs("div",{className:"min-h-screen bg-black",children:[e.jsx(P,{}),e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx(G,{})})]})}export{U as default};
